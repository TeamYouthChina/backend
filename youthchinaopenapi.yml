openapi: 3.0.0
info:
  version: 1.1.7
  title: YouthChina
  license:
    name: MIT
servers:
  - url: 'http://youthchina.io/api/v1'
paths:
  '/job/{id}':
    get:
      tags:
        - Job
      summary: get job info
      description: get job info by id
      operationId: getJob
      parameters:
          - in: query
            name: detailLevel
            required: true
            schema:
              type: integer
              default: 1
          - in: path
            name: id
            required: true
            schema:
              type: integer
      responses:
        '200':
          description: job info
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Job'
                  status:
                    $ref: '#/components/schemas/Status'
  '/job/search':
    post:
      tags:
        - Job
      summary: job search
      description: search job by complex conditions
      operationId: searchJob
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobSearch'
      responses:
        '201':
          description: search result
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: object
                    properties:
                      searchResult:
                        type: array
                        items:
                          $ref: '#/components/schemas/Job'
                  status:
                    $ref: '#/components/schemas/Status'
  '/applicants/{id}':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Applicant'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
    put:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicantRequest'
      responses:
        '200':
          description: return target user
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Applicant'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants':
    post:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicantRequest'
      responses:
        '201':
          description: created
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - applicant
                properties:
                  content:
                    $ref: '#/components/schemas/Applicant'
                  status:
                    $ref: '#/components/schemas/Status'
  '/applicants/{id}/contacts':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's 1
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/ContactInfo'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants/{id}/educations':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's educations
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/EducationInfo'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants/{id}/projects':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's projects
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/Project'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants/{id}/experiences':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's works
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/WorkExperienceInfo'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants/{id}/certificates':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's works
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/Certification'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/applicants/{id}/extracurriculars':
    get:
      tags:
        - Applicant
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return target user's works
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/Extracurricular'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: cannot find
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  '/jobs/{id}/apply':
    post:
      tags:
        - Application
      parameters:
        - name: id
          in: path
          description: id of the job
          required: true
          schema:
            type: integer
      responses:
        '201':
          description: apply successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Application'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: job not found
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4042
                  reason: 'Cannot find job with id 124'
        '403':
          description: cannot apply for job
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4032
                  reason: 'cannot apply for job because it has passed deadline'
  '/applicants/{id}/applications':
    get:
      tags:
        - Application
      parameters:
        - name: id
          in: path
          description: user id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: return the application of users
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/Application'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: user not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              example:
                status:
                  code: 4041
                  reason: 'Cannot find user with id 14'
  
  '/jobs/{id}/attention':
    put:
      tags:
        - Collection
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '201':
          description: collect successful
        '400':
          description: cannot collect this job, maybe the job has already deleted
  '/users/{id}/attentions':
    get:
      tags:
        - Collection
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
        - name: type
          in: query
          schema:
            type: string
            enum:
              - job
              - company
              - question
              - answer
          description: determine what part of attention list to return
      responses:
        '200':
          description: return users' attention list
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: object
                    properties:
                      companies:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - company
                          properties:
                            id:
                              type: integer
                            company:
                              $ref: '#/components/schemas/Company'
                      jobs:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - job
                          properties:
                            id:
                              type: integer
                            job:
                              $ref: '#/components/schemas/Job' 
                      questions:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - questions
                          properties:
                            id:
                              type: integer
                            questions:
                              $ref: '#/components/schemas/QuestionBasic'
                      answers:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - answers
                          properties:
                            id:
                              type: integer
                            answers:
                              $ref: '#/components/schemas/AnswerBasic'
                  status:
                    $ref: '#/components/schemas/Status'
  '/jobs/collections/{id}':
    delete:
      tags:
        - Collection
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
          description: id of collection
      responses:
        '204':
          description: delete target collection
  '/companies/attentions/{id}':
    delete:
      tags:
        - Collection
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
          description: id of collection
      responses:
        '204':
          description: delete target collection
  '/questions/attentions/{id}':
    delete:
      tags:
        - Collection
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
          description: id of collection
      responses:
        '204':
          description: delete target collection
  '/articles/attentions/{id}':
    delete:
      tags:
        - Collection
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
          description: id of collection
      responses:
        '204':
          description: delete target collection
  '/questions':
    post:
      tags:
        - Question
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Question'
      responses:
        '201':
          description: create question
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Question'
                  status:
                    $ref: '#/components/schemas/Status'
        '400':
          description: cannot create question due to user's error
    get:
      tags:
        - Question
      parameters:
        - name: company
          in: query
          description: company name
          schema:
            type: string
        - name: job
          in: query 
          description: job name
          schema:
            type: string
      responses:
        '200':
          description: search job
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    properties:
                      questions:
                        type: array
                        items:
                          $ref: '#/components/schemas/Question'                     
                  status:
                    $ref: '#/components/schemas/Status'
        '400':
          description: cannot create question due to user's error
  '/questions/{id}':
    get:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          description: question id
          schema:
            type: integer
      responses:
        '200':
          description: return target question
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Question'
                  status:
                    $ref: '#/components/schemas/Status'
        '404':
          description: target question does not found.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorStatus'
    delete:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          description: question id
          schema:
            type: integer
      responses:
        '204':
          description: deleted successed.
        '404':
          description: target question does not found.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorStatus'
    put:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          description: id of the question
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionRequest'
      responses:
        '204':
          description: updated success
  '/questions/{id}/answers':
    get:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      responses:
        '200':
          description: the answer list of target question
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: object
                    properties:
                      answers:
                        type: array
                        items:
                          $ref: '#/components/schemas/AnswerBasic'
                      question:
                        $ref: '#/components/schemas/QuestionBasic'
                  status:
                    $ref: '#/components/schemas/Status'
    post:
      tags:
        - Answer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - id
              - body
              properties:
                id:
                  type: integer
                body:
                  $ref: '#/components/schemas/RichText'
                is_anonymous:
                  type: boolean
                  default: false
                create_at:
                  type: integer
                
      responses:
        '201':
          description: target answer
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Answer'
                  status:
                    $ref: '#/components/schemas/Status'
  '/questions/{questionId}/invite/{userId}':
    put:
      tags:
        - Question
      parameters:
        - name: questionId
          required: true
          in: path
          schema:
            type: integer
        - name: userId
          required: true
          in: path
          schema:
            type: integer
      responses:
        '201':
          description: invitation send successfully.
  '/questions/{id}/invite':
    put:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
          
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                invited:
                  type: array
                  items:
                    type: integer
      responses:
        '201':
          description: invitation send successfully.
  # '/questions/{id}/upvote':
  #   put:
  #     tags:
  #       - Question
  #     parameters:
  #       - name: id
  #         required: true
  #         in: path
  #         schema:
  #           type: integer
  #     responses:
  #       '201':
  #         description: attention successfullly
  '/questions/{id}/attention':
    put:
      tags:
        - Question
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      responses: 
        '201':
          description: upvote successfullly
  '/answers/{id}':
    get:
      tags:
        - Answer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      responses:
        '200':
          description: target answer
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Answer'
                  status:
                    $ref: '#/components/schemas/Status'
    put:
      tags:
        - Answer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnswerRequest'
      responses:
        '200':
          description: target answer
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Answer'
                  status:
                    $ref: '#/components/schemas/Status'
    delete:
      tags:
        - Answer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      responses:
        '204':
          description: success
        '403':
          description: do not have authority to delete answer
  '/answers/{id}/comments': 
    post:
      tags:
        - Answer
      parameters:
        - name: id
          in: path
          schema:
           type: integer
          required: true
      requestBody:
        content:
          application/json:
              schema:
                $ref: '#/components/schemas/CommentRequest'
      responses:
        '201':
          description: comments successfully
  '/answers/{id}/upvote':
    put:
      tags:
        - Answer
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      responses:
        '201':
          description: upvote successfullly
  '/applicants/resgister':
    post:
      tags:
        - Security
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - date_of_birth
                - password
                - phonenumber
                - email
                - current_city
                - prefer_industry
                - prefer_city
              properties:
                username:
                  type: string
                date_of_birth:
                  type: string
                password:
                  type: string
                phone_number:
                  type: string
                email: 
                  type: string
                nation:
                  type: string
                gender:
                  type: string
                age:
                  type: integer
      responses:
        '201':
          description: register success
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Applicant'
                  status:
                    $ref: '#/components/schemas/Status'
  '/me':
    get:
      tags:
        - Security
      responses:
        '200':
          description: Return current logined user
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/User'
                  status:
                    $ref: '#/components/schemas/Status'
        '401':
          description: not loged in
  '/login':
    post:
      tags:
        - Security
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - id
                - password
              properties:
                id:
                  type: integer
                password:
                  type: string
      responses:
        '200':
          description: login success
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/User'
                  status:
                    $ref: '#/components/schemas/Status'
  '/articles/{id}':
    get:
      tags:
        - Article
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Article'
                  status:
                    $ref: '#/components/schemas/Status'
    put:
      tags:
        - Article
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ArticleRequest'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Article'
                  status:
                    $ref: '#/components/schemas/Status'
    delete:
      tags:
        - Article
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: delete successfully
        '403':
          description: no auth
  '/articles/{id}/attention':
    put:
      tags:
        - Article
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '201':
          description: collect successful
        '400':
          description: cannot collect this job, maybe the job has already deleted
      
  '/articles':
    post:
      tags:
        - Article
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ArticleRequest'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Article'
                  status:
                    $ref: '#/components/schemas/Status'
  '/articles/{id}/comments':
    post:
      tags:
      - Article
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentRequest'
      responses:
        '201':
          description: successful
  '/companies/{id}':
    get:
      tags:
        - Company
      parameters:
        - name: id
          in: path
          required: true
          description: company id
          schema:
            type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Company'
                  status:
                    $ref: '#/components/schemas/Status'
    put:
      tags:
        - Company
      parameters:
        - name: id
          in: path
          required: true
          description: company id
          schema: 
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Company'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Company'
                  status:
                    $ref: '#/components/schemas/Status'
  '/companies':
    post:
      tags:
        - Company
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: company name
                location:
                  $ref: '#/components/schemas/Location'
                  description: company location
                nation:
                  type: string
                  description: company nation
                website:
                  type: string
                  description: company website
                note:
                  type: string
                  description: introduction
      responses:
        '201':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Company'
                  status:
                    $ref: '#/components/schemas/Status'
        '403':
          description: do not have privilege to create company
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorStatus'
  '/companies/{id}/attention':
    put:
      tags:
        - Company
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '201':
          description: collect successful
        '400':
          description: cannot collect this job, maybe the job has already deleted
  '/videos/{id}':
    get:
      tags:
        - Video
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Video'
                  status:
                    $ref: '#/components/schemas/Status'
    delete:
      tags:
        - Video
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true  
      responses:
        '204':
          description: successful
  '/videos':
    post:
      tags:
        - Video
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: string
              format: binary
              description: video to uploaded
      responses:
        '201':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Video'
                  status:
                    $ref: '#/components/schemas/Status'
  '/videos/{id}/comments':
    post:
      tags:
        - Video
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: video id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentRequest'
      responses:
        '201':
          description: successful
  '/videos/{id}/upvote':
    put:  
      tags:
        - Video
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: video id
      responses:
        '200':
          description: successful 
  '/videos/{id}/attention':
    put:
      tags:
        - Video
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: video id
      responses:
        '200':
          description: successful 

  '/editorials/{id}':
    get:
      tags:
        - Editorials
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Editorial'
                  status:
                    $ref: '#/components/schemas/Status'
    delete:
      tags:
        - Editorials
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true  
      responses:
        '204':
          description: successful
    put:
      tags:
        - Editorials
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContentRequestWithCompany'
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Editorial'
                  status:
                    $ref: '#/components/schemas/Status'
                
  '/editorials':
    post:
      tags:
        - Editorials
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContentRequestWithCompany'
      responses:
        '201':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    $ref: '#/components/schemas/Editorial'
                  status:
                    $ref: '#/components/schemas/Status'
  '/editorials/{id}/comments':
    post:
      tags:
        - Editorials
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: editorials id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentRequest'
      responses:
        '201':
          description: successful
  '/editorials/{id}/upvote':
    put:  
      tags:
        - Editorials
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: editorials id
      responses:
        '200':
          description: successful
  '/editorials/{id}/attention':
    put:
      tags:
        - Editorials
      parameters:
        - name: id
          schema:
            type: integer
          in: path
          required: true
          description: editorials id
      responses:
        '200':
          description: successful 



components:
  schemas:
    ContentRequest:
      type: object
      properties:
        body:
          $ref: '#/components/schemas/RichText'
    Status:
      type: object
      properties:
        code:
          type: integer
          format: int64
        reason:
          type: string
    ErrorStatus:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status'
    JobSearch:
      type: object
      required:
        - page
        - size
      properties:
        id: 
          type: integer
        jobName:
          type: string
        companyName:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        jobType:
          type: integer
        salaryFloor:
          type: integer
        salaryCap:
          type: integer
        activate:
          type: boolean
        location:
         $ref: '#/components/schemas/Location'
        industry:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
        page:
          type: integer
        size:
          type: integer

    Job:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          description: name of job
        organization:
          $ref: '#/components/schemas/Organization'
        location:
          type: string
        type:
          type: string
          enum:
            - full-time
            - part-time
            - internship
        deadLine:
          type: string
    Organization:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        avatarUrl:
          type: string
          pattern: '(http|https)://(.?)*'
        location:
          type: string
        website:
          type: string
          pattern: '(http|https)://(.?)*'
        note:
          type: string
        nation:
          type: string
    User:
      type: object
      required:
        - id
        - username
        - email
        - phonenumber
        - register_date
        - real_name
        - gender
        - nation
      properties:
        id:
          type: integer
          format: int64
        username:
          type: string
        email:
          type: string
          format: email
        phonenumber:
          type: string
        register_date:
          type: string
        real_name:
          type: string
        gender:
          type: string
          enum:
            - male
            - female
        nation:
          type: string
        avatar_url:
          type: string
        role:
          type: string
        age:
          type: integer
    NewUser:
      allOf:
        - $ref: '#/components/schemas/User'
        - type: object
          required:
            - password
          properties:
            password:
              type: string

    ContactInfo:
      type: object
      required:
        - emails
        - phonenumbers
      properties:
        emails:
          type: array
          items:
            type: string
            pattern: (.?)*@(.?)*
        phonenumbers:
          type: array
          items:
            type: string
    EducationInfo:
      type: object
      required:
        - university
        - major
        - degree
        - duration
        - location
      properties:
        university:
          type: string
        major:
          type: string
        degree:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        location:
          type: string
        note:
          type: string
    WorkExperienceInfo:
      type: object
      required:
        - employer
        - position
        - duration
        - location
      properties:
        employer:
          type: string
        position:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        location:
          type: string
        note:
          type: string
    Certification:
      type: object
      required:
        - name
        - duration
      properties:
        name:
          type: string
        authority:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        note:
          type: string
    Extracurricular:
      type: object
      required:
        - name
        - role
        - organization
        - duration
        - location
      properties:
        name:
          type: string
        role:
          type: string
        organization:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        note:
          type: string
    Project:
      type: object
      required:
        - name
        - role
        - duration
      properties:
        name:
          type: string
        role:
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        note:
          type: string
    Duration:
      type: object
      properties:
        begin:
          type: string
          pattern: timestamp
        end:
          type: string
          pattern: timestamp
    ApplicantRequest:
      type: object
      required:
        - name
        - avatarUrl
      properties:
        name:
          type: string
        avatarUrl:
          type: string
        isInJob:
          type: boolean
        currentCompanyId:
          type: integer
        skills:
          type: array
          items: 
            type:
              string
        educations:
          type: array
          items:
            type: object
            required:
                - university
                - major
                - degree
                - duration
                - location
            properties:
                university:
                    type: string
                major:
                    type: string
                degree:
                    type: string
                duration:
                    $ref: '#/components/schemas/Duration'
                location:
                    $ref: '#/components/schemas/Location'
                note:
                    type: string
        contacts:
          $ref: '#/components/schemas/ContactInfo'
        works:
          type: array
          items:
            type: object
            required:
                - employer
                - position
                - duration
                - location
            properties:
                employer:
                    type: string
                position:
                    type: string
                duration:
                    $ref: '#/components/schemas/Duration'
                location:
                    $ref: '#/components/schemas/Location'
                note:
                    type: string
        projects:
          type: array
          items:
            $ref: '#/components/schemas/Project'
        extracurriculars:
          type: array
          items:
            $ref: '#/components/schemas/Extracurricular'
        certifications:
          type: array
          items:
            $ref: '#/components/schemas/Certification'
    Applicant:
      type: object
      properties:
            id:
              type: integer
            name:
              type: string
            avatarUrl:
              type: string
            isInJob:
              type: boolean
            currentCompany:
              $ref: '#/components/schemas/Company'
            educations:
              type: array
              items:
                $ref: '#/components/schemas/EducationInfo'
            contacts:
              $ref: '#/components/schemas/ContactInfo'
            works:
              type: array
              items:
                $ref: '#/components/schemas/WorkExperienceInfo'
            projects:
              type: array
              items:
                $ref: '#/components/schemas/Project'
            extracurriculars:
              type: array
              items:
                $ref: '#/components/schemas/Extracurricular'
            certifications:
              type: array
              items:
                $ref: '#/components/schemas/Certification'
    JobResponse:
      allOf:
        - $ref: '#/components/schemas/Job'
        - type: object
          properties:
            status:
              $ref: '#/components/schemas/Status'
    Company:
      allOf:
        - $ref: '#/components/schemas/Organization'
        - type: object
    Application:
      type: object
      required:
        - id
        - companyId
        - positionId
        - status
      properties:
        id:
          type: integer
        position:
          $ref: '#/components/schemas/Job'
        status:
          type: string
    CollectionStatus:
      type: string
      enum:
        - active
        - inactive
    AnswerRequest:
      type: object
      required:
        - body
        - is_anonymous
      properties:
        body:
          $ref: '#/components/schemas/RichText'
        is_anonymous:
          type: boolean
          default: false
    AnswerBasic:
      allOf:
        - $ref: '#/components/schemas/AnswerRequest'
        - properties:
            id:
              type: integer
              description: answer id
            creator:
              $ref: '#/components/schemas/User'
            modified_at:
              type: string
            create_at:
              type: string
            company_id:
              type: string
    QuestionRequest:
      type: object
      required:
        - title
        - body
        - is_anonymous
      properties:
        title:
          type: string
          description: question title
        body:
          $ref: '#/components/schemas/RichText'
        is_anonymous:
          type: boolean
          default: flase
    QuestionBasic:
      allOf:
        - $ref: '#/components/schemas/QuestionRequest'
        - properties:
            id:
              type: integer
              description: question id
            create_at:
              type: string
            modified_at:
              type: string
            company_id:
              type: string
            creator:
              $ref: '#/components/schemas/User'
    Question:
      allOf:
        - $ref: '#/components/schemas/QuestionBasic'
        - type: object
          properties:
            answers:
              type: array
              items:
                $ref: '#/components/schemas/AnswerBasic'
    Answer:
      allOf:
        - $ref: '#/components/schemas/AnswerBasic'
        - type: object
          properties:
            question:
              $ref: '#/components/schemas/QuestionBasic'
    RichText:
      type: object
      required:
        - braftEditorRaw
        - previewText
        - resourceList
      properties:
        braftEditorRaw:
          type: object
        previewText:
          type: object
        resourceList:
          type: array
          items: 
            type: string
    Comment:
      type: object
      required:
        - id
        - creator
        - body
        - create_at
        - is_anonymous
      properties:
        id:
          type: integer
        creator:
          $ref: '#/components/schemas/User'
        body:
          type: string
        create_at:
          type: integer
        is_anonymous:
          type: boolean
          default: false
    CommentRequest:
      allOf:
        - $ref: '#/components/schemas/ContentRequest'
        - properties:
            is_anonymous:
              type: boolean
              default: false
    ArticleRequest:
      type: object 
      properties:
        title:
          type: string
        body:
          $ref: '#/components/schemas/RichText'
        company_id:
          type: integer
        is_anonymous:
          type: boolean
          default: false
    Article:
      type: object
      required:
        - id
        - title
        - body
        - company
      properties:
        id:
          type: integer
        title:
          type: string
        body:
          $ref: '#/components/schemas/RichText'
        company:
          $ref: '#/components/schemas/Company'
        create_at:
          type: string
        modified_at:
          type: string
        author:
          $ref: '#/components/schemas/User'
        is_anonymous:
          type: boolean
          default: false
    Video:
      type: object
      properties:
        id:
          type: integer
          description: video id
        url:
          type: string
        comments:
          type: array
          items:
            $ref: '#/components/schemas/Comment'
        uploader:
          $ref: '#/components/schemas/User'
    Editorial:
      type: object
      properties:
        id:
          type: integer
          description: video id
        body:
          $ref: '#/components/schemas/RichText'
        comments:
          type: array
          items:
            $ref: '#/components/schemas/Comment'
        author:
          $ref: '#/components/schemas/User'
    ContentRequestWithCompany:
      allOf:
        - $ref: '#/components/schemas/ContentRequest'
        - properties:
            company_id:
              type: integer
    Location:
      type: object
      required:
        - nation_code
        - location_code
      properties:
        nation_code:
          type: string
        location_code:
          type: string
